var entrySite = [
    {"data": [
        {"id": 1, "name": "安阳" },
        {"id": 2, "name": "安阳开发区"},
        {"id": 3, "name": "安阳南"},
        {"id": 4, "name": "安阳西"},
        {"id": 5, "name": "白店"},
        {"id": 6, "name": "白马寺"},
        {"id": 7, "name": "宝丰"},
        {"id": 8, "name": "博爱"},
        {"id": 9, "name": "柏香"},
        {"id": 10, "name": "苌庄"},
        {"id": 11, "name": "廛河"},
        {"id": 12, "name": "晁陂"},
        {"id": 13, "name": "查山"},
        {"id": 14, "name": "春水"},
        {"id": 15, "name": "大广豫鄂界"},
        {"id": 16, "name": "大广豫冀省界"},
        {"id": 17, "name": "丹水"},
        {"id": 18, "name": "大新"},
        {"id": 19, "name": "邓州新野"},
        {"id": 20, "name": "丁河"},
        {"id": 21, "name": "二广豫鄂界"},
        {"id": 22, "name": "二广豫晋省界"},
        {"id": 23, "name": "二郎庙"},
        {"id": 24, "name": "方城"},
        {"id": 25, "name": "封丘"},
        {"id": 26, "name": "巩义东"},
        {"id": 27, "name": "巩义西"},
        {"id": 28, "name": "构林"},
        {"id": 29, "name": "光山"},
        {"id": 30, "name": "关林"},
        {"id": 31, "name": "观音堂"},
        {"id": 32, "name": "固始"},
        {"id": 33, "name": "鹤壁"},
        {"id": 34, "name": "淮阳"},
        {"id": 35, "name": "潢川"},
        {"id": 36, "name": "滑县牛屯"},
        {"id": 37, "name": "惠济"},
        {"id": 38, "name": "获嘉"},
        {"id": 39, "name": "沪陕豫陕界"},
        {"id": 40, "name": "沪陕豫皖界"},
        {"id": 41, "name": "焦作"},
        {"id": 42, "name": "焦作东"},
        {"id": 43, "name": "焦作南"},
        {"id": 44, "name": "焦作西"},
        {"id": 45, "name": "郏县"},
        {"id": 46, "name": "机场北出口"},
        {"id": 47, "name": "机场南出口"},
        {"id": 48, "name": "济广豫鲁界"},
        {"id": 49, "name": "济广豫皖界"},
        {"id": 50, "name": "寄料"},
        {"id": 51, "name": "吉利孟州"},
        {"id": 52, "name": "京港澳豫鄂界"},
        {"id": 53, "name": "京港澳豫冀界"},
        {"id": 54, "name": "晋新豫晋界"},
        {"id": 56, "name": "济邵豫晋"},
        {"id": 57, "name": "旧县"},
        {"id": 58, "name": "济源北"},
        {"id": 59, "name": "济源东"},
        {"id": 60, "name": "浚县"},
        {"id": 61, "name": "浚县东"},
        {"id": 62, "name": "浚县西"},
        {"id": 63, "name": "开封"},
        {"id": 64, "name": "开封陈留"},
        {"id": 65, "name": "开封东"},
        {"id": 66, "name": "开封杜良"},
        {"id": 67, "name": "兰考"},
        {"id": 68, "name": "连霍豫陕界"},
        {"id": 69, "name": "连霍豫皖界"},
        {"id": 70, "name": "灵宝"},
        {"id": 71, "name": "灵宝西"},
        {"id": 72, "name": "临颍"},
        {"id": 73, "name": "林州"},
        {"id": 74, "name": "龙门"},
        {"id": 75, "name": "吕店"},
        {"id": 76, "name": "鹿亳"},
        {"id": 77, "name": "卢店"},
        {"id": 78, "name": "漯河"},
        {"id": 79, "name": "漯河西"},
        {"id": 80, "name": "罗山"},
        {"id": 81, "name": "洛阳"},
        {"id": 82, "name": "洛阳东"},
        {"id": 83, "name": "鲁山"},
        {"id": 84, "name": "鹿邑"},
        {"id": 85, "name": "毛堌堆"},
        {"id": 86, "name": "孟津"},
        {"id": 87, "name": "渑池"},
        {"id": 88, "name": "明港"},
        {"id": 89, "name": "民权"},
        {"id": 90, "name": "泌阳"},
        {"id": 91, "name": "泌阳东"},
        {"id": 92, "name": "秣陵"},
        {"id": 93, "name": "木兰"},
        {"id": 94, "name": "南乐"},
        {"id": 95, "name": "南阳"},
        {"id": 96, "name": "南阳南"},
        {"id": 97, "name": "南阳卧龙"},
        {"id": 98, "name": "南阳遮山"},
        {"id": 99, "name": "南召"},
        {"id": 100, "name": "南召五朵山"},
        {"id": 101, "name": "内黄"},
        {"id": 102, "name": "内乡"},
        {"id": 103, "name": "宁陵"},
        {"id": 104, "name": "平顶山"},
        {"id": 105, "name": "平顶山南"},
        {"id": 106, "name": "平舆"},
        {"id": 107, "name": "平舆杨埠"},
        {"id": 108, "name": "泼河"},
        {"id": 109, "name": "濮阳"},
        {"id": 110, "name": "濮阳南"},
        {"id": 111, "name": "清丰"},
        {"id": 112, "name": "沁阳"},
        {"id": 113, "name": "丘集"},
        {"id": 114, "name": "淇县"},
        {"id": 115, "name": "确山"},
        {"id": 116, "name": "确山西"},
        {"id": 117, "name": "汝南"},
        {"id": 118, "name": "汝鑫刘店"},
        {"id": 119, "name": "汝鑫汝阳"},
        {"id": 120, "name": "汝州"},
        {"id": 121, "name": "三门峡东"},
        {"id": 122, "name": "三门峡西"},
        {"id": 123, "name": "涩港"},
        {"id": 124, "name": "商城"},
        {"id": 125, "name": "上街"},
        {"id": 126, "name": "邵原"},
        {"id": 127, "name": "沈丘"},
        {"id": 128, "name": "十八里河"},
        {"id": 129, "name": "双八"},
        {"id": 130, "name": "水冶"},
        {"id": 131, "name": "四通"},
        {"id": 132, "name": "遂平"},
        {"id": 133, "name": "太康"},
        {"id": 134, "name": "唐河"},
        {"id": 135, "name": "唐河东"},
        {"id": 136, "name": "唐河西"},
        {"id": 137, "name": "唐集"},
        {"id": 138, "name": "唐庄"},
        {"id": 139, "name": "谭庄"},
        {"id": 140, "name": "天中"},
        {"id": 141, "name": "通许"},
        {"id": 142, "name": "通许东"},
        {"id": 143, "name": "王屋"},
        {"id": 144, "name": "瓦屋"},
        {"id": 145, "name": "卫辉"},
        {"id": 146, "name": "尉氏"},
        {"id": 147, "name": "温泉"},
        {"id": 148, "name": "温县"},
        {"id": 149, "name": "舞钢"},
        {"id": 150, "name": "舞钢南"},
        {"id": 151, "name": "舞阳"},
        {"id": 152, "name": "武陟"},
        {"id": 153, "name": "襄城"},
        {"id": 154, "name": "项城"},
        {"id": 155, "name": "项城西"},
        {"id": 156, "name": "仙居"},
        {"id": 157, "name": "小屯"},
        {"id": 158, "name": "小徐岗"},
        {"id": 159, "name": "下汤"},
        {"id": 160, "name": "下汤西"},
        {"id": 161, "name": "夏邑"},
        {"id": 162, "name": "西华"},
        {"id": 163, "name": "新安"},
        {"id": 164, "name": "新蔡"},
        {"id": 165, "name": "新蔡砖店"},
        {"id": 166, "name": "新密"},
        {"id": 167, "name": "新密西"},
        {"id": 168, "name": "新县"},
        {"id": 169, "name": "新县北"},
        {"id": 170, "name": "新乡"},
        {"id": 171, "name": "新乡东"},
        {"id": 172, "name": "新乡西"},
        {"id": 173, "name": "信阳"},
        {"id": 174, "name": "信阳西"},
        {"id": 175, "name": "信阳新区"},
        {"id": 176, "name": "新野北"},
        {"id": 177, "name": "新郑"},
        {"id": 178, "name": "新郑西"},
        {"id": 179, "name": "西平"},
        {"id": 180, "name": "西坪"},
        {"id": 181, "name": "修武"},
        {"id": 182, "name": "西峡"},
        {"id": 183, "name": "息县"},
        {"id": 184, "name": "宣化"},
        {"id": 185, "name": "许亳扶沟"},
        {"id": 186, "name": "许昌"},
        {"id": 187, "name": "许昌北"},
        {"id": 188, "name": "许昌东区"},
        {"id": 189, "name": "许昌南"},
        {"id": 190, "name": "许昌西"},
        {"id": 191, "name": "薛店"},
        {"id": 192, "name": "延津"},
        {"id": 193, "name": "鄢陵北"},
        {"id": 194, "name": "鄢陵南"},
        {"id": 195, "name": "鄢陵西"},
        {"id": 196, "name": "偃师"},
        {"id": 197, "name": "尧山"},
        {"id": 198, "name": "叶县"},
        {"id": 199, "name": "叶县北"},
        {"id": 200, "name": "叶县东"},
        {"id": 201, "name": "叶县南"},
        {"id": 202, "name": "伊川"},
        {"id": 203, "name": "伊川北"},
        {"id": 204, "name": "义马"},
        {"id": 205, "name": "樱桃沟"},
        {"id": 206, "name": "荥阳"},
        {"id": 207, "name": "原阳"},
        {"id": 208, "name": "虞城"},
        {"id": 209, "name": "豫灵"},
        {"id": 210, "name": "豫龙"},
        {"id": 211, "name": "禹州北"},
        {"id": 212, "name": "禹州南"},
        {"id": 213, "name": "寨河"},
        {"id": 214, "name": "长葛"},
        {"id": 215, "name": "长葛西"},
        {"id": 216, "name": "长垣"},
        {"id": 217, "name": "柘城北"},
        {"id": 218, "name": "柘城西"},
        {"id": 219, "name": "正阳岳城"},
        {"id": 220, "name": "郑州沟赵"},
        {"id": 221, "name": "郑州侯寨"},
        {"id": 222, "name": "郑州柳林"},
        {"id": 223, "name": "郑州南"},
        {"id": 224, "name": "郑州圃田"},
        {"id": 225, "name": "郑州西南"},
        {"id": 226, "name": "郑州新区"},
        {"id": 227, "name": "镇平"},
        {"id": 228, "name": "中牟"},
        {"id": 229, "name": "周口"},
        {"id": 230, "name": "周口北"},
        {"id": 231, "name": "周口东"},
        {"id": 232, "name": "周口西"},
        {"id": 233, "name": "竹沟"},
        {"id": 234, "name": "驻马店"},
        {"id": 235, "name": "驻马店南"}
    ]}
];
var carType = [
    {
        "data": [
            {"id": 1, "name": "小于等于7座客车"},
            {"id": 2, "name": "8-19座客车"},
            {"id": 3, "name": "20-39座客车"},
            {"id": 4, "name": "40座及以上客车"}
        ]
    }
];
$("#clickEntry").on("click", function () {
    $(".mobileSelect").remove();
    var mobileSelect1 = new MobileSelect({
        trigger: '#entry',
        title: '入口收费站',
        wheels: entrySite,
        callback: function () {
			$('#entry').css("color","#474747")
		}
    });
    $(".mobileSelect").addClass("mobileSelect-show");
    event.preventDefault();
})
$("#clickOut").on("click", function () {
    $(".mobileSelect").remove();
    var mobileSelect2 = new MobileSelect({
        trigger: '#out',
        title: '出口收费站',
        wheels: entrySite,
        callback: function () {
			$('#out').css("color","#474747")
		}
    });
    $(".mobileSelect").addClass("mobileSelect-show");
    event.preventDefault();
})

$("#clickCarType").on("click", function () {
    $(".mobileSelect").remove();
    var mobileSelect3 = new MobileSelect({
        trigger: '#carType',
        title: '车辆类型',
        wheels: carType,
        callback: function () {
			$('#carType').css("color","#474747")
		}
    });
    $(".mobileSelect").addClass("mobileSelect-show");
    event.preventDefault();
})

//点击查询按钮
$("#searchBtn").on("click", function () {
    var enterStation = $("#entry").html();
    var exitStation = $("#out").html();
    var vehicleType = $("#carType").attr("data_id");
    if (enterStation.trim() == "" || enterStation.trim() == "请选择入口收费站") {
        maskTip("请选择入口收费站");
        $("#searchResult").hide();
        return;
    }
    if (exitStation == "" || exitStation == "请选择出口收费站") {
        maskTip("请选择出口收费站");
        $("#searchResult").hide();
        return;
    }
    if (enterStation === exitStation) {
        maskTip("入口收费站和出口收费站不能相同");
        $("#searchResult").hide();
        return;
    }
    if (vehicleType == "" || vehicleType == "请选择车辆类型" || !vehicleType) {
        maskTip("请选择车辆类型");
        $("#searchResult").hide();
        return;
    }
    /*
     *查询动画提示结束
     */
    $('#dialogMask,#dialog').show();
    var parameters = {
        enterStation: enterStation,
        exitStation: exitStation,
        vehicleType: vehicleType,
        randomKey: randomKey,
        userID: userID,
        clientID: clientID,
        cityID: cityID,
        local_x: local_x ,localFrom:localFrom,
        local_y: local_y,
        datas: "dhzkh'enterStation':'" + enterStation + "','exitStation':'" + exitStation + "','vehicleType':" + vehicleType + ",'enable':0dhykh"
    };
    $("#veriCodeImg").click();
    $.ajax({
        async: true,
        url: "/heNanHighwayToll/search",
        type: "post",
        data: JSON.stringify(parameters),
        contentType: 'application/json',
        success: function (res) {
            /*
             *查询动画提示结束
             */
            $('#dialogMask,#dialog').hide();
            if (res.retCode == "000000") {
                $("#money").html(res.responseBody.result[0].FEE);
                $("#searchResult").show();
            }
        },
        error: function () {
            maskTip("查询错误");
            $("#searchResult").hide();
        }
    })
})
// 参数为空时的提示语
function maskTip(mgs) {
    $('#masktime').html(mgs);
    $('#masktime').show();
    setTimeout(function () {
        $('#masktime').hide();
    }, 2000)
    return;
}