webpackJsonp([20],{"6D6t":function(t,s){},yzt5:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("Dd8w"),i=e.n(a),n=e("mtWM"),r=e.n(n),o=e("NYxO"),c={name:"myApplication",data:function(){return{openID:"",page:1,rows:10,keyword:"",serviceList:[],serviceCount:0,status:"0",statusListShow:!1,chooseStatusText:"全部",statusInfo:{0:"全部",1:"待审核",3:"未通过",2:"已通过",4:"已撤销"}}},computed:i()({},Object(o.c)(["getUserInfo"])),mounted:function(){this.openID=JSON.parse(this.getUserInfo).openID,this.getServiceList(),window.addEventListener("click",this.handleSelectCon)},methods:{getServiceList:function(t){var s=this;1==t&&(this.page=1);var e={openID:this.openID};0!=this.status&&(e.status=this.status),r()({headers:{"Content-Type":"application/json"},method:"post",url:"/procure/getServiceList",data:{query:e,page:this.page,rows:this.rows,keyword:this.keyword}}).then(function(t){200==t.data.code&&(s.serviceList=t.data.results.dataList,s.serviceCount=t.data.results.dataCount)})},statusList:function(){this.statusListShow?this.statusListShow=!1:this.statusListShow=!0},chooseStatus:function(t){this.status=t.target.value,this.chooseStatusText=t.target.innerText,this.statusListShow=!1},handleSelectCon:function(){this.statusListShow=!1,this.rowsListShow=!1},renderTo:function(t,s){t&&this.$router.push({name:"applyDetail",query:{procureID:t,status:s}})}}},l={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"content"},[t._m(0),t._v(" "),e("div",{staticClass:"rm-main-box"},[e("div",{staticClass:"rl-main-aside clearfix"},[e("a",{staticClass:"rl-operate-btn active fr btnSearch",attrs:{href:"javascript:;",title:"查询"},on:{click:function(s){return t.getServiceList(!0)}}},[t._v("查询")]),t._v(" "),e("div",{staticClass:"resource-sort-search-box fr"},[e("label",{staticClass:"downMenuTit fl"},[t._v("关键字：")]),t._v(" "),e("div",{staticClass:"textInputBox fl"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"inner-search-inp wdh226",attrs:{type:"search",placeholder:"请输入服务名称关键字"},domProps:{value:t.keyword},on:{input:function(s){s.target.composing||(t.keyword=s.target.value)}}})])]),t._v(" "),e("div",{staticClass:"downMenu fr clearfix"},[e("label",{staticClass:"downMenuTit fl"},[t._v("审核状态：")]),t._v(" "),e("div",{staticClass:"select-box result_select fr",on:{click:[function(s){return t.statusList()},function(t){t.stopPropagation()}]}},[e("span",{staticClass:"defaul_option"},[t._v(t._s(t.chooseStatusText))]),t._v(" "),e("i",{staticClass:"icon header-user-icon fr"}),t._v(" "),t.statusListShow?e("ul",{on:{click:[function(s){return t.chooseStatus(s)},function(t){t.stopPropagation()}]}},[e("li",{attrs:{value:"0"}},[t._v("全部")]),t._v(" "),e("li",{attrs:{value:"1"}},[t._v("待审核")]),t._v(" "),e("li",{attrs:{value:"3"}},[t._v("未通过")]),t._v(" "),e("li",{attrs:{value:"2"}},[t._v("已通过")]),t._v(" "),e("li",{attrs:{value:"4"}},[t._v("已撤销")])]):t._e()])])]),t._v(" "),e("table",{staticClass:"mainTable"},[t._m(1),t._v(" "),e("tbody",t._l(t.serviceList,function(s){return e("tr",[e("td",[t._v(t._s(s.procureID))]),t._v(" "),e("td",[t._v(t._s(s.applyTime))]),t._v(" "),e("td",[t._v(t._s(s.serviceName))]),t._v(" "),e("td",[t._v(t._s(2==s.serviceType?"服务":3==s.serviceType?"API":"服务和API"))]),t._v(" "),e("td",[e("div",{staticClass:"addressBox"},[e("span",{staticClass:"ellipsis"},t._l(s.region,function(a,i){return e("i",[t._v(t._s(a.name)),i!=s.region.length-1?e("em",[t._v("、")]):t._e()])}),0),t._v(" "),s.region&&s.region.length>4?e("label",{staticClass:"allShow wh160px"},[t._m(2,!0),t._v(" "),t._l(s.region,function(a,i){return e("i",[t._v(t._s(a.name)),i!=s.region.length-1?e("em",[t._v("、")]):t._e()])})],2):t._e()])]),t._v(" "),e("td",{staticClass:"center"},[e("span",{staticClass:"status",class:{pendingReview:1==s.status,abnormal:3==s.status,notEnabled:4==s.status,passed:2==s.status}},[t._v(t._s(t.statusInfo[s.status]))])]),t._v(" "),e("td",[e("div",{staticClass:"addressBox"},[e("span",{staticClass:"ellipsis"},[t._v(t._s(s.reviewed||"无"))]),t._v(" "),s.reviewed&&s.reviewed.length>7?e("label",{staticClass:"allShow"},[t._m(3,!0),t._v("\n                  "+t._s(s.reviewed||"无")+"\n                ")]):t._e()])]),t._v(" "),e("td",{staticClass:"center"},[e("i",{staticClass:"icon-list icon-viewList",attrs:{title:"查看"},on:{click:function(e){return t.renderTo(s.procureID,s.status)}}})])])}),0)]),t._v(" "),t.serviceCount>0?e("div",{staticClass:"page-box clearfix"},[e("div",{staticClass:"fl"},[e("div",{staticClass:"page-go-box"},[e("span",{staticClass:"page-txt"},[t._v("显示"),e("label",[t._v(t._s(t.serviceCount))]),t._v("个条目中的第"),e("label",[t._v(t._s((t.page-1)*t.rows+1))]),t._v("至"),e("label",[t._v(t._s(t.page*t.rows))]),t._v("个")])])]),t._v(" "),e("div",{staticClass:"page-main pageJump fr"},[e("span",{staticClass:"page-txt pageTotal fl"},[t._v("共"+t._s(Math.ceil(t.serviceCount/t.rows))+"页")]),t._v(" "),e("ul",{staticClass:"page-list fl"},[e("el-pagination",{attrs:{"current-page":t.page,"page-size":t.rows,layout:"prev, pager, next, jumper",total:t.serviceCount},on:{"size-change":t.getServiceList,"current-change":t.getServiceList,"update:currentPage":function(s){t.page=s},"update:current-page":function(s){t.page=s}}})],1),t._v(" "),t._m(4)])]):t._e(),t._v(" "),t.serviceCount<1?e("div",{staticClass:"noRecordList htvh"},[t._m(5),t._v(" "),e("div",{staticClass:"noRecorWord"},[t._v("没有申请记录哦~")])]):t._e()])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"serviceMainCon"},[s("div",{staticClass:"welcomeTitle clearfix"},[s("span",[this._v("当前位置：")]),this._v(" "),s("span",[this._v("服务管理")]),this._v(" "),s("span",[this._v(">")]),this._v(" "),s("span",[this._v("我的申请")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("tr",[e("th",[t._v("申请单编号")]),t._v(" "),e("th",{attrs:{width:"17.5%"}},[t._v("申请时间")]),t._v(" "),e("th",{attrs:{width:"16%"}},[t._v("服务名称")]),t._v(" "),e("th",{attrs:{width:"9.5%"}},[t._v("服务分类")]),t._v(" "),e("th",{attrs:{width:"10%"}},[t._v("服务范围")]),t._v(" "),e("th",{staticClass:"center",attrs:{width:"10%"}},[t._v("审核状态")]),t._v(" "),e("th",{attrs:{width:"13%"}},[t._v("审核意见")]),t._v(" "),e("th",{staticClass:"center",attrs:{width:"8%"}},[t._v("操作")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"triangle_border_down"},[s("span",{staticClass:"triangle_border_down"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"triangle_border_down"},[s("span",{staticClass:"triangle_border_down"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"page-go-box fl"},[s("a",{staticClass:"page-btn",attrs:{href:"javascript:;"}},[this._v("确定")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"noRecordPicBox"},[s("img",{attrs:{src:e("tbjl")}})])}]};var v=e("VU/8")(c,l,!1,function(t){e("zDib"),e("6D6t")},"data-v-66705a6a",null);s.default=v.exports},zDib:function(t,s){}});