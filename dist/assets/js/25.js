webpackJsonp([25],{B8DP:function(s,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var t=e("Dd8w"),a=e.n(t),c=e("mtWM"),n=e.n(c),l=e("haf2"),v=e("NYxO"),o=e("yVE9"),r={data:function(){return{regionCode:l.a,defaultProps:{children:"regionEntitys",label:"region"},idNumber:this.$route.query.idNumber,reviewState:this.$route.query.reviewState,serviceInfo:"",isAll:!0,tipsContent:"",tipsImg:"",tips:!1,loading:!1,cancleFlag:!1,submitSuccess:"",serviceUrl:{app:"app",web:"web端",wap:"wap",weChat:"微信端",other:"其他"}}},computed:a()({},Object(v.c)(["getUserInfo"])),components:{MaskTip:o.a},mounted:function(){this.initData(),l.a[0].region="地区列表"},methods:{filterNode:function(s,i){if(!s)return!0;var e=!1;return s.forEach(function(s){e=e||-1!==i.code.indexOf(s)}),e},initData:function(){var s=this;this.isSearch=!1,this.loading=!0,n()({headers:{"Content-Type":"application/json"},method:"post",url:"/serviceJoin/getByID",async:!0,data:{idNumber:this.idNumber},contentType:"application/json"}).then(function(i){s.loading=!1,"success"==i.data.msg?(s.serviceInfo=i.data.results.dataList[0],s.reviewState=s.serviceInfo.reviewState,s.serviceInfo.region.indexOf("000000")>-1?s.isAll=!1:(s.$refs.tree.filter(s.serviceInfo.region),s.serviceInfo.region.forEach(function(i){i.indexOf("0000")>0&&(s.$refs.tree.store.nodesMap[i].expanded=!1)})),s.$refs.region.style.display="block"):alert("数据加载失败")}).catch(function(s){})},download:function(s){s&&(window.location.href=s)},cancelN:function(){this.cancleFlag=!1},cancelApply:function(){this.cancleFlag=!0},closeDialog:function(s){this.tips=s},cancelY:function(){var s=this;this.cancleFlag=!1,n()({headers:{"Content-Type":"application/json"},method:"post",url:"/serviceJoin/modifyService",async:!0,data:{query:{idNumber:this.idNumber},modifyField:{reviewState:2}},contentType:"application/json"}).then(function(i){200==i.data.code?(s.submitSuccess="撤销成功",setTimeout(function(){s.submitSuccess="",s.$router.push({path:"/serviceJoin",name:"serviceJoin"})},1500)):(s.submitSuccess="撤销失败",setTimeout(function(){s.submitSuccess=""},1500))}).catch(function(s){})}}},_={render:function(){var s=this,i=s.$createElement,e=s._self._c||i;return e("div",[e("div",{staticClass:"content"},[s._m(0),s._v(" "),e("div",{staticClass:"rm-main-box"},[e("div",{staticClass:"deleteCon detailsCon"},[e("div",{staticClass:"deleteListCon"},[s._m(1),s._v(" "),e("div",{staticClass:"publicList"},[e("label",[s._v("申请单编号：")]),s._v(" "),e("span",[s._v(s._s(s.idNumber))])]),s._v(" "),e("div",{staticClass:"publicList"},[e("label",[s._v("申请时间：")]),s._v(" "),e("span",[s._v(s._s(s.serviceInfo.createDate))])]),s._v(" "),e("div",{staticClass:"publicList"},[e("label",[s._v("申请单状态：")]),s._v(" "),1==s.reviewState?e("span",{staticClass:"pendReview"},[e("i",{staticClass:"icon-verPic icon-pendReview"}),s._v("待审核")]):s._e(),s._v(" "),2==s.reviewState?e("span",[e("i",{staticClass:"icon-verPic icon-cancel"}),s._v("已撤销")]):s._e(),s._v(" "),3==s.reviewState?e("span",{staticClass:"certifiedStatus"},[e("i",{staticClass:"icon-verPic icon-passed"}),s._v("已通过")]):s._e(),s._v(" "),4==s.reviewState?e("span",{staticClass:"certifiedStatus not"},[e("i",{staticClass:"icon-verPic icon-notPassed"}),s._v("未通过")]):s._e()])]),s._v(" "),e("div",{staticClass:"deleteListCon"},[s._m(2),s._v(" "),e("div",{staticClass:"publicList"},[e("label",[s._v("联系人姓名：")]),s._v(" "),e("span",[s._v(s._s(s.serviceInfo.contactName))])]),s._v(" "),e("div",{staticClass:"publicList"},[e("label",[s._v("联系人电话：")]),s._v(" "),e("span",[s._v(s._s(s.serviceInfo.contactTel))])])]),s._v(" "),e("div",{staticClass:"deleteListCon"},[s._m(3),s._v(" "),e("div",{staticClass:"publicList"},[e("label",[s._v("服务名称：")]),s._v(" "),e("span",[s._v(s._s(s.serviceInfo.serviceName))])]),s._v(" "),e("div",{staticClass:"publicList clearfix wh520px"},[e("label",{staticClass:"fl"},[s._v("接入方式及链接地址：")]),s._v(" "),e("span",{staticClass:"fl multilineText"},s._l(s.serviceInfo.serviceUrl,function(i,t){return e("p",[e("b",[s._v(s._s(s.serviceUrl[i.split("_")[0]])+"：")]),s._v(s._s(i.split("_")[1]))])}),0)]),s._v(" "),e("div",{staticClass:"publicList"},[e("label",[s._v("服务类型：")]),s._v(" "),e("span",[s._v(s._s(1==s.serviceInfo.serviceType?"业务查询":2==s.serviceInfo.serviceType?"业务办理":"业务预约"))])]),s._v(" "),e("div",{ref:"region",staticClass:"publicList clearfix",staticStyle:{display:"none"}},[e("label",{staticClass:"fl"},[s._v("服务范围：")]),s._v(" "),s.isAll?e("span",{staticClass:"fl"},[e("el-tree",{ref:"tree",attrs:{data:s.regionCode,"node-key":"code","highlight-current":"","filter-node-method":s.filterNode,props:s.defaultProps}})],1):e("span",[s._v("全国")])])]),s._v(" "),e("div",{staticClass:"deleteListCon"},[s._m(4),s._v(" "),e("div",{staticClass:"publicList serviceLogoBor clearfix"},[e("label",[s._v("服务LOGO：")]),s._v(" "),e("span",{staticClass:"uploadLogoImg"},[e("img",{attrs:{src:s.serviceInfo.logo?s.serviceInfo.logo:""}})])]),s._v(" "),e("div",{staticClass:"publicList"},[e("label",[s._v("服务用户手册：")]),s._v(" "),e("span",{on:{click:function(i){return s.download(s.serviceInfo.guide)}}},[s._v(s._s(s.serviceInfo.guide?s.serviceInfo.guide.substr(s.serviceInfo.guide.lastIndexOf("/")+1,s.serviceInfo.guide.length):""))])]),s._v(" "),e("div",{staticClass:"publicList"},[e("label",[s._v("服务源的测试报告：")]),s._v(" "),e("span",{on:{click:function(i){return s.download(s.serviceInfo.testReport)}}},[s._v(s._s(s.serviceInfo.testReport?s.serviceInfo.testReport.substr(s.serviceInfo.testReport.lastIndexOf("/")+1,s.serviceInfo.testReport.length):""))])]),s._v(" "),e("div",{staticClass:"publicList"},[e("label",[s._v("是否需要支付：")]),s._v(" "),e("span",[s._v(s._s(1==s.serviceInfo.isPay?"是":"否"))])]),s._v(" "),e("div",{staticClass:"publicList"},[e("label",[s._v("是否需要登录：")]),s._v(" "),e("span",[s._v(s._s(1==s.serviceInfo.isLogin?"是":"否"))])]),s._v(" "),e("div",{staticClass:"publicList"},[e("label",[s._v("服务接入方式：")]),s._v(" "),e("span",[s._v(s._s(1==s.serviceInfo.joinType?"服务内嵌方式":2==s.serviceInfo.joinType?"服务封装方式":"服务采集方式"))])]),s._v(" "),e("div",{staticClass:"publicList wh520px"},[e("label",[s._v("服务接入事项描述：")]),s._v(" "),e("span",[s._v(s._s(s.serviceInfo.describe))])])]),s._v(" "),e("div",{staticClass:"deleteListCon"},[s._m(5),s._v(" "),e("div",{staticClass:"publicList"},[e("label",[s._v("单位名称：")]),s._v(" "),e("span",[s._v(s._s(s.serviceInfo.company))])]),s._v(" "),e("div",{staticClass:"publicList"},[e("label",[s._v("通讯地址：")]),s._v(" "),e("span",[s._v(s._s(s.serviceInfo.address))])])])]),s._v(" "),1==s.reviewState?e("div",{staticClass:"btnBgBox"},[e("button",{staticClass:"btn-defalut btn-red",on:{click:function(i){return s.cancelApply()}}},[s._v("撤销申请")])]):s._e()])]),s._v(" "),s.cancleFlag?e("div",{staticClass:"dialog-container add-catalog-dialog"},[e("div",{staticClass:"dialog-inner"},[e("header",{staticClass:"dialog-header publicHeader"},[e("div",{staticClass:"dialog-header-tit fl"},[s._v("提示")]),s._v(" "),e("div",{staticClass:"icon-verPic icon-dialogClose fr",on:{click:function(i){return s.cancelN()}}})]),s._v(" "),e("div",{staticClass:"dialog-conTit"},[e("p",[s._v("您确定要撤销"),e("span",[s._v(s._s(s.serviceInfo.serviceName))]),s._v("的服务接入申请吗？")])]),s._v(" "),e("footer",{staticClass:"dialog-footer"},[e("ul",{staticClass:"btn-list clearfix"},[e("li",{staticClass:"btn-item btn-item-acvite",on:{click:function(i){return s.cancelY()}}},[s._v("确  定")]),s._v(" "),e("li",{staticClass:"btn-item",on:{click:function(i){return s.cancelN()}}},[s._v("取  消")])])])])]):s._e(),s._v(" "),s.cancleFlag?e("div",{staticClass:"mask"}):s._e(),s._v(" "),e("MaskTip",{attrs:{tips:s.tips,tipsContent:s.tipsContent,tipsImg:s.tipsImg,loading:s.loading},on:{listenToChildEvent:s.closeDialog}}),s._v(" "),s.submitSuccess?e("div",{staticClass:"submitSuccessBox"},[e("i",{staticClass:"icon-verPic icon-submitSuccess"}),s._v(s._s(s.submitSuccess))]):s._e()],1)},staticRenderFns:[function(){var s=this.$createElement,i=this._self._c||s;return i("div",{staticClass:"serviceMainCon"},[i("div",{staticClass:"welcomeTitle clearfix"},[i("span",[this._v("当前位置：")]),this._v(" "),i("span",[this._v("接入申请")]),this._v(" "),i("span",[this._v(">")]),this._v(" "),i("span",[this._v("我的申请")])])])},function(){var s=this.$createElement,i=this._self._c||s;return i("div",{staticClass:"publicTitle"},[i("i",{staticClass:"lineBlue"}),this._v("申请单信息")])},function(){var s=this.$createElement,i=this._self._c||s;return i("div",{staticClass:"publicTitle"},[i("i",{staticClass:"lineBlue"}),this._v("联系人信息")])},function(){var s=this.$createElement,i=this._self._c||s;return i("div",{staticClass:"publicTitle"},[i("i",{staticClass:"lineBlue"}),this._v("服务接入信息")])},function(){var s=this.$createElement,i=this._self._c||s;return i("div",{staticClass:"publicTitle"},[i("i",{staticClass:"lineBlue"}),this._v("服务其他补充信息")])},function(){var s=this.$createElement,i=this._self._c||s;return i("div",{staticClass:"publicTitle"},[i("i",{staticClass:"lineBlue"}),this._v("服务主管部门")])}]};var d=e("VU/8")(r,_,!1,function(s){e("Py8U")},"data-v-7c6283f2",null);i.default=d.exports},Py8U:function(s,i){}});