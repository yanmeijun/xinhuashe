webpackJsonp([28],{VXF3:function(e,t){},rafl:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("mvHQ"),n=i.n(s),r=i("Dd8w"),a=i.n(r),c=(i("mtWM"),i("NYxO")),o=i("haf2"),h=[],d={name:"container",data:function(){return{regionCode:o.a,isOpen:!1,menuArr:[{id:"all",name:"全国",children:[{name:"北京市",id:"110000"},{name:"天津市",id:"120000"},{name:"上海市",id:"310000"},{name:"重庆市",id:"500000"},{name:"河北省",id:"130000"},{name:"山西省",id:"140000"},{name:"辽宁省",id:"210000"},{name:"吉林省",id:"220000"},{name:"黑龙江省",id:"230000"},{name:"江苏省",id:"320000"},{name:"浙江省",id:"330000"},{name:"安徽省",id:"340000"},{name:"福建省",id:"350000"},{name:"江西省",id:"360000"},{name:"山东省",id:"370000"},{name:"河南省",id:"410000"},{name:"湖北省",id:"420000"},{name:"湖南省",id:"430000"},{name:"广东省",id:"440000"},{name:"海南省",id:"460000"},{name:"四川省",id:"510000"},{name:"贵州省",id:"520000"},{name:"云南省",id:"530000"},{name:"陕西省",id:"610000"},{name:"甘肃省",id:"620000"},{name:"青海省",id:"630000"},{name:"台湾省",id:"710000"},{name:"内蒙古自治区",id:"150000"},{name:"广西壮族自治区",id:"450000"},{name:"西藏自治区",id:"540000"},{name:"宁夏回族自治区",id:"640000"},{name:"新疆自治区",id:"650000"},{name:"香港特别行政区",id:"810000"},{name:"澳门特别行政",id:"820000"}]}],defaultProps:{children:"children",label:"name"},chooseMenuArr:[],basicInfor:{},service:!1}},mounted:function(){window.addEventListener("click",this.handleSelect),this.getBasicInfor(),this.chooseMenuArr=this.$route.query.chooseMenuArr?JSON.parse(this.$route.query.chooseMenuArr):[]},computed:{},components:a()({},Object(c.c)(["getUserInfo"])),created:function(){},methods:{getBasicInfor:function(){var e=this;this.$http({headers:{"Content-Type":"application/json"},method:"post",url:"/procure/getService",async:!0,data:{serviceID:this.$route.query.serviceID},contentType:"application/json"}).then(function(t){if(e.basicInfor=t.data.basicInfor,sessionStorage.setItem("serviceType",t.data.basicInfor.serviceType),"200"==t.data.code){var i=t.data.basicInfor,s=[];if("all"==i.city)s=e.menuArr;else{var n=i.city.split(",");s=[],n.forEach(function(t){"110100"==t?s.push({name:"北京市",id:"110000"}):"120100"==t?s.push({name:"天津市",id:"120100"}):"310100"==t?s.push({name:"上海市",id:"310100"}):"500100"==t?s.push({name:"重庆市",id:"500100"}):"0000"==t.substr(2,6)?e.regionCode[0].regionEntitys.forEach(function(e){e.code==t&&s.push({name:e.region,id:t})}):"00"==t.substr(4,6)&&e.regionCode[0].regionEntitys.forEach(function(e,i){e.region!=s[s.length-1].name?Number(e.code)==Number(t.substr(0,3)+"000")&&(s.push({name:e.region,id:t,children:[]}),e.regionEntitys.forEach(function(e){Number(e.code)==Number(t)&&s[s.length-1].children.push({name:e.region,id:t})})):e.regionEntitys.forEach(function(e){Number(e.code)==Number(t)&&s[s.length-1].children.push({name:e.region,id:t})})})})}}var r=[];s.forEach(function(e){e.children?e.children.forEach(function(e){r.push({name:e.name,id:e.id})}):r.push({name:e.name,id:e.id})}),r.length<34&&(e.menuArr=r)}).catch(function(e){})},toggleServiceRange:function(e){(e=e||event).cancelBubble=!0,this.$refs.tree.setCheckedKeys([]),this.isOpen=this.isOpen?this.isOpen=!1:this.isOpen=!0},handleSelect:function(){this.isOpen=!1},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},checkNode:function(){if(this.chooseMenuArr=[],!(this.$refs.tree.getCheckedNodes().length<1))if(35==this.$refs.tree.getCheckedNodes().length)this.chooseMenuArr=[{id:"all",name:"全国"}];else{for(var e in this.chooseMenuArr=this.$refs.tree.getCheckedNodes(),this.chooseMenuArr)this.chooseMenuArr[e].children&&this.chooseMenuArr.splice(Number(e)+Number(1),this.chooseMenuArr[e].children.length);h=[],this.$refs.tree.getCheckedKeys().forEach(function(e){h.push(e)})}},close:function(e){for(var t in this.chooseMenuArr.splice(e,1),h=[],this.chooseMenuArr){if("all"==this.chooseMenuArr[t].id)return;h.push(this.chooseMenuArr[t].id)}this.$refs.tree.setCheckedKeys(h)},nextStep:function(){this.chooseMenuArr.length<=0?this.service=!0:(sessionStorage.setItem("chooseMenuArr",n()(this.chooseMenuArr)),this.$router.push({name:"secondStep",query:{serviceID:this.$route.query.serviceID,serviceName:this.basicInfor.serviceName,templateID:this.basicInfor.templateID},params:this.chooseMenuArr}),this.bus.$emit("step","secondStep"))},hide:function(){this.isOpen=!1},show:function(){this.isOpen=!0}},watch:{}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tabList clearfix"},[i("div",{staticClass:"tabCon"},[i("div",{staticClass:"ListCon",attrs:{id:"fwxq"}},[i("div",{staticClass:"tableBox whiteBG serviceApplyTable"},[i("table",{staticClass:"table"},[i("tr",[i("td",[e._v("服务名称：")]),e._v(" "),i("td",{staticStyle:{color:"#0081e9"}},[e._v(e._s(this.basicInfor.serviceName))])]),e._v(" "),i("tr",[i("td",[e._v("服务类型：")]),e._v(" "),1==this.basicInfor.serviceType?i("td",[e._v("服务和API")]):e._e(),e._v(" "),2==this.basicInfor.serviceType?i("td",[e._v("服务")]):e._e(),e._v(" "),3==this.basicInfor.serviceType?i("td",[e._v("api")]):e._e()]),e._v(" "),i("tr",[i("td",[e._v("价格：")]),e._v(" "),i("td",[e._v(e._s(this.basicInfor.price<=0?"免费":"面议"))])]),e._v(" "),i("tr",[i("td",[e._v("服务期限：")]),e._v(" "),i("td",[e._v(e._s(this.basicInfor.deadline))])]),e._v(" "),e._m(0),e._v(" "),i("tr",[i("td",[e._v("免责声明：")]),e._v(" "),i("td",[e._v(e._s(this.basicInfor.relief))])]),e._v(" "),i("tr",[i("td",[e._v("服务范围：")]),e._v(" "),i("td",[i("div",{staticClass:"select-box service_select",on:{click:e.toggleServiceRange,mouseover:e.show,mouseout:e.hide}},[e._m(1),e._v(" "),i("i",{staticClass:"icon4 icon-downMenu"}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"selectCon",attrs:{id:"selectBocCon"}},[i("el-tree",{ref:"tree",attrs:{data:e.menuArr,"show-checkbox":"","node-key":"id","highlight-current":"","filter-node-method":e.filterNode,props:e.defaultProps},on:{check:e.checkNode}})],1)]),e._v(" "),e.service?i("div",{staticClass:"error pla-email-use",staticStyle:{"margin-right":"193px"}},[i("i",{staticClass:"pla-email"}),e._v("请选择服务范围\n                ")]):e._e()])]),e._v(" "),this.chooseMenuArr.length>0?i("tr",[i("td",{staticStyle:{"vertical-align":"top"}},[e._v("已选择：")]),e._v(" "),i("td",[i("div",{staticClass:"select-box",staticStyle:{height:"auto",width:"604px"}},[i("span",{staticClass:"defaul_option"},e._l(e.chooseMenuArr,function(t,s){return i("div",{staticClass:"selectCity",staticStyle:{"margin-right":"7px"},attrs:{id:s}},[i("em",[e._v(e._s(t.name))]),i("i",{on:{click:function(t){return e.close(s)}}})])}),0)])])]):e._e(),e._v(" "),i("tr",[i("td"),e._v(" "),i("td",[i("a",{staticClass:"btnApply",attrs:{href:"javascript:;"},on:{click:e.nextStep}},[e._v("下一步")])])])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",{staticStyle:{"vertical-align":"top"}},[this._v("服务提供方式：")]),this._v(" "),t("td",[this._v("公共服务打包输出"),t("span",[this._v("（注：公共服务打包输出：政务数据与服务集成的公共服务可按照事项内容封装并整体提供，包括整套服务页面及服务内容，需求方可以直接进行调用。）")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"defaul_option"},[t("span",[this._v("请选择服务范围")])])}]};var u=i("VU/8")(d,l,!1,function(e){i("VXF3")},"data-v-7305f50d",null);t.default=u.exports}});