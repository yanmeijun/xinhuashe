webpackJsonp([19],{MdZ6:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("Dd8w"),a=e.n(i),n=e("mtWM"),c=e.n(n),o=e("NYxO"),l={name:"onlineManage",data:function(){return{openID:"",page:1,rows:10,keyword:"",serviceList:[],serviceCount:0,onlineTips:!1,offlineTips:!1,onlineInfo:{},useForMap:{web:"web端",app:"app",weChat:"微信端",wap:"wap",other:"其他"}}},computed:a()({},Object(o.c)(["getUserInfo"])),mounted:function(){this.openID=this.getUserInfo?JSON.parse(this.getUserInfo).openID:"",this.getUserServiceList()},methods:{getUserServiceList:function(t){var s=this;1==t&&(this.page=1),c()({headers:{"Content-Type":"application/json"},method:"post",url:"/userService/getUserServiceList",data:{query:{openID:this.openID},page:this.page,rows:this.rows,keyword:this.keyword}}).then(function(t){200==t.data.code&&(s.serviceList=t.data.results.dataList,s.serviceCount=t.data.results.dataCount)})},online:function(t,s,e,i,a,n){s?this.offlineTips=!0:this.onlineTips=!0,this.onlineInfo={serviceID:t,localFrom:e,serviceName:i,useFor:a,useForAddress:n}},cancel:function(){this.onlineTips=this.offlineTips=!1},modifyService:function(t){var s=this;c()({headers:{"Content-Type":"application/json"},url:"/userService/modifyService",method:"post",data:{query:{localFrom:this.onlineInfo.localFrom,serviceID:this.onlineInfo.serviceID},modify:{online:t}}}).then(function(t){200==t.data.code&&(s.cancel(),s.getUserServiceList())})}}},r={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"content"},[t._m(0),t._v(" "),e("div",{staticClass:"rm-main-box"},[e("div",{staticClass:"rl-main-aside clearfix"},[e("a",{staticClass:"rl-operate-btn active fr btnSearch",attrs:{href:"javascript:;",title:"查询"},on:{click:function(s){return t.getUserServiceList(!0)}}},[t._v("查询")]),t._v(" "),e("div",{staticClass:"resource-sort-search-box fr"},[e("label",{staticClass:"downMenuTit fl"},[t._v("关键字：")]),t._v(" "),e("div",{staticClass:"textInputBox fl"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"inner-search-inp wdh226",attrs:{type:"search",placeholder:"请输入服务名称关键字"},domProps:{value:t.keyword},on:{input:function(s){s.target.composing||(t.keyword=s.target.value)}}})])])]),t._v(" "),e("table",{staticClass:"mainTable"},[t._m(1),t._v(" "),e("tbody",t._l(t.serviceList,function(s){return e("tr",[e("td",[e("span",{staticClass:"ellipsis"},[t._v(t._s(s.serviceName))])]),t._v(" "),e("td",{staticClass:"center"},[t._v(t._s(2==s.serviceType?"服务":"API"))]),t._v(" "),e("td",[t._v(t._s(t.useForMap[s.useFor]))]),t._v(" "),e("td",[e("span",{staticClass:"ellipsis tdWh"},[t._v(t._s(s.useForAddress))])]),t._v(" "),e("td",{staticClass:"center"},[e("span",{staticClass:"status",class:{passed:s.online,notEnabled:!s.online}},[t._v(t._s(s.online?"上线":"下线"))])]),t._v(" "),e("td",[t._v(t._s(s.createDate))]),t._v(" "),e("td",{staticClass:"center"},[e("i",{staticClass:"icon-list",class:{"icon-downline":s.online,"icon-online":!s.online},attrs:{title:s.online?"下线":"上线"},on:{click:function(e){return t.online(s.serviceID,s.online,s.localFrom,s.serviceName,t.useForMap[s.useFor],s.useForAddress)}}})])])}),0)]),t._v(" "),t.serviceCount>0?e("div",{staticClass:"page-box clearfix"},[e("div",{staticClass:"fl"},[e("div",{staticClass:"page-go-box"},[e("span",{staticClass:"page-txt"},[t._v("显示"),e("label",[t._v(t._s(t.serviceCount))]),t._v("个条目中的第"),e("label",[t._v(t._s((t.page-1)*t.rows+1))]),t._v("至"),e("label",[t._v(t._s(t.page*t.rows))]),t._v("个")])])]),t._v(" "),e("div",{staticClass:"page-main pageJump fr"},[e("span",{staticClass:"page-txt pageTotal fl"},[t._v("共"+t._s(Math.ceil(t.serviceCount/t.rows))+"页")]),t._v(" "),e("ul",{staticClass:"page-list fl"},[e("el-pagination",{attrs:{"current-page":t.page,"page-size":t.rows,layout:"prev, pager, next, jumper",total:t.serviceCount},on:{"size-change":t.getUserServiceList,"current-change":t.getUserServiceList,"update:currentPage":function(s){t.page=s},"update:current-page":function(s){t.page=s}}})],1),t._v(" "),t._m(2)])]):t._e(),t._v(" "),t.serviceList.length<1?e("div",{staticClass:"noRecordList htvh"},[t._m(3),t._v(" "),e("div",{staticClass:"noRecorWord"},[t._v("没有申请记录哦~")])]):t._e()])]),t._v(" "),t.onlineTips||t.offlineTips?e("div",{staticClass:"mask"}):t._e(),t._v(" "),t.offlineTips?e("div",{staticClass:"dialog-container add-catalog-dialog"},[e("div",{staticClass:"dialog-inner"},[e("header",{staticClass:"dialog-header"},[e("div",{staticClass:"dialog-header-tit fl"},[t._v("服务下线信息")]),t._v(" "),e("div",{staticClass:"icon-verPic icon-dialogClose fr",on:{click:t.cancel}})]),t._v(" "),e("div",{staticClass:"dialog-body"},[e("div",{staticClass:"dialog-conTit"},[t._v("您确定要下线"),e("span",[t._v(t._s(t.onlineInfo.serviceName))]),t._v("服务吗？")])]),t._v(" "),e("footer",{staticClass:"dialog-footer"},[e("ul",{staticClass:"btn-list clearfix"},[e("li",{staticClass:"btn-item btn-item-acvite",on:{click:function(s){return t.modifyService(!1)}}},[t._v("确  认")]),t._v(" "),e("li",{staticClass:"btn-item",on:{click:t.cancel}},[t._v("取  消")])])])])]):t._e(),t._v(" "),t.onlineTips?e("div",{staticClass:"dialog-container add-catalog-dialog"},[e("div",{staticClass:"dialog-inner"},[e("header",{staticClass:"dialog-header"},[e("div",{staticClass:"dialog-header-tit fl"},[t._v("服务上线信息")]),t._v(" "),e("div",{staticClass:"icon-verPic icon-dialogClose fr",on:{click:t.cancel}})]),t._v(" "),e("div",{staticClass:"dialog-body"},[e("div",{staticClass:"dialog-conList"},[e("label",[t._v("上线服务：")]),t._v(" "),e("span",{staticClass:"blue ellipsis"},[t._v(t._s(t.onlineInfo.serviceName))])]),t._v(" "),e("div",{staticClass:"dialog-conList"},[e("label",[t._v("上线渠道：")]),t._v(" "),e("span",{staticClass:"ellipsis  tdWh"},[t._v(t._s(t.onlineInfo.useFor)+"："+t._s(t.onlineInfo.useForAddress))])])]),t._v(" "),e("footer",{staticClass:"dialog-footer"},[e("ul",{staticClass:"btn-list clearfix"},[e("li",{staticClass:"btn-item btn-item-acvite",on:{click:function(s){return t.modifyService(!0)}}},[t._v("确  认")]),t._v(" "),e("li",{staticClass:"btn-item",on:{click:t.cancel}},[t._v("取  消")])])])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"serviceMainCon"},[s("div",{staticClass:"welcomeTitle clearfix"},[s("span",[this._v("当前位置：")]),this._v(" "),s("span",[this._v("服务管理")]),this._v(" "),s("span",[this._v(">")]),this._v(" "),s("span",[this._v("上线管理")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("tr",[e("th",[t._v("服务名称")]),t._v(" "),e("th",{staticClass:"center",attrs:{width:"10.5%"}},[t._v("服务类型")]),t._v(" "),e("th",{attrs:{width:"10.5%"}},[t._v("上线渠道")]),t._v(" "),e("th",{attrs:{width:"19%"}},[t._v("渠道地址")]),t._v(" "),e("th",{staticClass:"center",attrs:{width:"10.5%"}},[t._v("服务状态")]),t._v(" "),e("th",{attrs:{width:"18%"}},[t._v("创建时间")]),t._v(" "),e("th",{staticClass:"center",attrs:{width:"12.5%"}},[t._v("操作")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"page-go-box fl"},[s("a",{staticClass:"page-btn",attrs:{href:"javascript:;"}},[this._v("确定")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"noRecordPicBox"},[s("img",{attrs:{src:e("tbjl")}})])}]};var v=e("VU/8")(l,r,!1,function(t){e("pNe0"),e("jzEZ")},"data-v-683cf4c6",null);s.default=v.exports},jzEZ:function(t,s){},pNe0:function(t,s){}});